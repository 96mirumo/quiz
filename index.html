<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정처기 1·2단원 마스터 퀴즈</title>
    <style>
        :root { --bg: #f0f2f5; --card: #ffffff; --primary: #4a90e2; --accent: #ff6b6b; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; }
        .quiz-container { background: var(--card); width: 100%; max-width: 500px; border-radius: 20px; padding: 25px; shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .progress-bar { background: #eee; height: 8px; border-radius: 4px; flex-grow: 1; margin: 0 15px; overflow: hidden; }
        .progress-fill { background: var(--primary); height: 100%; width: 0%; transition: 0.3s; }
        .question-box { font-size: 1.2rem; font-weight: 700; margin-bottom: 20px; min-height: 80px; }
        .options { display: grid; gap: 10px; }
        button.option { padding: 15px; border: 2px solid #eee; border-radius: 12px; background: none; cursor: pointer; text-align: left; font-size: 1rem; transition: 0.2s; }
        button.option:hover { border-color: var(--primary); background: #f0f7ff; }
        .result-screen { text-align: center; display: none; }
        .score { font-size: 3rem; font-weight: 800; color: var(--primary); }
    </style>
</head>
<body>

<div class="quiz-container" id="quiz-app">
    <div id="game-screen">
        <div class="header">
            <span id="q-count">1/60</span>
            <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
            <span id="timer">00:00</span>
        </div>
        <div class="question-box" id="question">문제를 불러오는 중...</div>
        <div class="options" id="options"></div>
    </div>

    <div class="result-screen" id="result-screen">
        <h2>수고하셨습니다!</h2>
        <div class="score" id="final-score">0</div>
        <p>오늘의 공부 완료!</p>
        <button onclick="location.reload()" style="padding: 15px 30px; border-radius: 50px; border: none; background: var(--primary); color: white; font-weight: bold; cursor: pointer;">다시 도전</button>
    </div>
</div>

<script>
    // 1단원 30문제 + 2단원 30문제 (총 60문제)
    const allQuestions = [
        // 1단원 예시 세트
        { q: "UI 설계 원칙 중 누구나 쉽게 이해하고 사용할 수 있어야 한다는 원칙은?", a: ["직관성", "유효성", "학습성", "유연성"], c: 0 },
        { q: "객체지향 분석 방법론 중 E-R 다이어그램을 사용하여 객체 모델링을 하는 방법은?", a: ["Coan-Yourdon", "Booch", "Jacobson", "Rumbaugh"], c: 3 },
        { q: "디자인 패턴 중 생성 패턴에 속하지 않는 것은?", a: ["Abstract Factory", "Builder", "Adapter", "Singleton"], c: 2 },
        // ... (중략: 실제 파일에는 60문제를 꽉 채워 넣어주세요)
        { q: "소프트웨어 상위 설계에 해당하지 않는 것은?", a: ["아키텍처 설계", "인터페이스 정의", "모듈 세부 설계", "DB 설계"], c: 2 },
        { q: "DBMS의 필수 기능 3가지가 아닌 것은?", a: ["정의 기능", "조작 기능", "제어 기능", "연결 기능"], c: 3 },
        
        // 2단원 예시 세트
        { q: "Python에서 리스트에 요소를 마지막에 추가하는 함수는?", a: ["add()", "push()", "append()", "insert()"], c: 2 },
        { q: "OSI 7계층 중 종단 간 신뢰성 있고 투명한 데이터 전송을 제공하는 계층은?", a: ["물리 계층", "전송 계층", "세션 계층", "표현 계층"], c: 1 },
        { q: "결합도가 가장 낮은(가장 좋은) 것은?", a: ["내용 결합도", "공통 결합도", "자료 결합도", "제어 결합도"], c: 2 },
        { q: "C언어에서 포인터 변수를 선언할 때 사용하는 기호는?", a: ["&", "*", "#", "$"], c: 1 },
        { q: "응집도가 가장 높은(가장 좋은) 것은?", a: ["기능적 응집도", "순차적 응집도", "절차적 응집도", "우연적 응집도"], c: 0 }
        // 60문제 랜덤 생성을 위해 여기에 더 많은 문제를 추가하시면 됩니다!
    ];

    let currentIdx = 0;
    let score = 0;
    let quizData = [];

    function initQuiz() {
        // 문제 랜덤하게 섞기
        quizData = allQuestions.sort(() => Math.random() - 0.5).slice(0, 60);
        showQuestion();
    }

    function showQuestion() {
        if (currentIdx >= quizData.length) return showResult();
        
        const q = quizData[currentIdx];
        document.getElementById('q-count').innerText = `${currentIdx + 1}/${quizData.length}`;
        document.getElementById('progress').style.width = `${((currentIdx + 1) / quizData.length) * 100}%`;
        document.getElementById('question').innerText = q.q;
        
        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = '';
        q.a.forEach((opt, i) => {
            const btn = document.createElement('button');
            btn.className = 'option';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(i);
            optionsDiv.appendChild(btn);
        });
    }

    function checkAnswer(i) {
        if (i === quizData[currentIdx].c) score++;
        currentIdx++;
        showQuestion();
    }

    function showResult() {
        document.getElementById('game-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').innerText = `${score} / ${quizData.length}`;
    }

    initQuiz();
</script>
</body>
</html>
